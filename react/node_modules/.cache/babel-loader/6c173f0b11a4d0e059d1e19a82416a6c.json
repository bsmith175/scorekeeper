{"ast":null,"code":"var _jsxFileName = \"/Users/bensmith/workspace/projects/crossword-league/react/src/views/League/LeaguePage.jsx\";\nimport * as React from 'react';\nimport styled from 'styled-components';\nimport { Link, Redirect, useParams } from 'react-router-dom';\nimport { Button } from '@material-ui/core';\nimport { H1, H2, ScrollBox, ButtonContainer } from '../../Util/ViewUtil';\nimport StandardText from '../../components/shared/StandardText';\nimport AddMemberModal from '../Modals/AddMemberModal';\nimport AddScoreModal from '../Modals/AddScoreModal';\nimport useQuery from '../../components/Hooks/useQuery';\nimport Card from '../../components/shared/Card';\nimport { formatIgnoreTimeZone, getAllDatesWithScore, scoreComparator } from '../../Util/Util';\nimport ScoreTable from './ScoreTable';\nimport { ThinBorder } from '../../Util/ViewUtil';\nimport DeleteLeagueModal from '../Modals/DeleteLeagueModal';\nimport { parseISO } from 'date-fns';\n\nconst LeaguePage = () => {\n  const [redirect, setRedirect] = React.useState(false);\n  const [isMemberModalShowing, setIsMemberModalShowing] = React.useState(false);\n  const [isScoreModalShowing, setIsScoreModalShowing] = React.useState(false);\n  const [isDeleteModalShowing, setIsDeleteModalShowing] = React.useState(false);\n  let {\n    id\n  } = useParams();\n  const {\n    data,\n    loading,\n    error,\n    reQuery\n  } = useQuery(`/leagues/${id}`);\n  console.log(data);\n\n  if (loading) {\n    return /*#__PURE__*/React.createElement(H2, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 28,\n        columnNumber: 17\n      }\n    }, \"Loading\");\n  }\n\n  if (redirect) return /*#__PURE__*/React.createElement(Redirect, {\n    to: {\n      pathName: '/',\n      state: {\n        refresh: true\n      }\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 26\n    }\n  });\n  const comparator = scoreComparator(data.scoreDirectionUp, data.scoreType);\n  const dateMap = data && getAllDatesWithScore(data, comparator);\n  const dates = Array.from(dateMap.keys()).sort((a, b) => compareAsc(new Date(b), new Date(a)));\n  return data && /*#__PURE__*/React.createElement(Container, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(AddMemberModal, {\n    open: isMemberModalShowing,\n    onSave: () => {\n      reQuery();\n    },\n    handleClose: () => setIsMemberModalShowing(false),\n    id: id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(AddScoreModal, {\n    league: data,\n    open: isScoreModalShowing,\n    onSave: () => {\n      reQuery();\n    },\n    handleClose: () => setIsScoreModalShowing(false),\n    id: id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(DeleteLeagueModal, {\n    handleClose: () => setIsDeleteModalShowing(false),\n    open: isDeleteModalShowing,\n    league: data,\n    onDelete: () => setRedirect(true),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(HeaderContainer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(H1, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 17\n    }\n  }, data.name), /*#__PURE__*/React.createElement(StandardText, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 17\n    }\n  }, data.leagueUsers.length, \" Members \\u2022 Created \", formatIgnoreTimeZone(parseISO(data.createdAt), 'MMM d, yyyy'), \" \")), /*#__PURE__*/React.createElement(ThinBorder, {\n    margin: \"8px\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(ScoreTable, {\n    league: data,\n    dateMap: true,\n    dates: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(RowContainer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(ButtonContainer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    fullWidth: true,\n    variant: \"contained\",\n    onClick: () => {\n      setIsMemberModalShowing(true);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(StandardText, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 25\n    }\n  }, \"+ Add Member\"))), /*#__PURE__*/React.createElement(ButtonContainer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    fullWidth: true,\n    variant: \"contained\",\n    onClick: () => {\n      setIsScoreModalShowing(true);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(StandardText, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 25\n    }\n  }, \"+ Add score\")))), /*#__PURE__*/React.createElement(ButtonContainer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    color: \"secondary\",\n    fullWidth: true,\n    variant: \"contained\",\n    onClick: () => {\n      setIsDeleteModalShowing(true);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(StandardText, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 21\n    }\n  }, \"Delete League\"))));\n};\n\nexport default LeaguePage;\nconst Container = styled.div`\n\n`;\nconst HeaderContainer = styled.div`\n    display: flex;\n    height: 50px;\n    justify-content: space-between;\n    flex-direction: column;\n    padding: 16px;\n    padding-bottom: 8px;\n`;\nconst RowContainer = styled.div`\n    display: flex;\n    flex-direction: row;\n`;","map":{"version":3,"sources":["/Users/bensmith/workspace/projects/crossword-league/react/src/views/League/LeaguePage.jsx"],"names":["React","styled","Link","Redirect","useParams","Button","H1","H2","ScrollBox","ButtonContainer","StandardText","AddMemberModal","AddScoreModal","useQuery","Card","formatIgnoreTimeZone","getAllDatesWithScore","scoreComparator","ScoreTable","ThinBorder","DeleteLeagueModal","parseISO","LeaguePage","redirect","setRedirect","useState","isMemberModalShowing","setIsMemberModalShowing","isScoreModalShowing","setIsScoreModalShowing","isDeleteModalShowing","setIsDeleteModalShowing","id","data","loading","error","reQuery","console","log","pathName","state","refresh","comparator","scoreDirectionUp","scoreType","dateMap","dates","Array","from","keys","sort","a","b","compareAsc","Date","name","leagueUsers","length","createdAt","Container","div","HeaderContainer","RowContainer"],"mappings":"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","sourcesContent":["import * as React from 'react';\nimport styled from 'styled-components';\nimport { Link, Redirect, useParams } from 'react-router-dom';\nimport { Button } from '@material-ui/core';\nimport { H1, H2, ScrollBox, ButtonContainer } from '../../Util/ViewUtil';\nimport StandardText from '../../components/shared/StandardText';\nimport AddMemberModal from '../Modals/AddMemberModal';\nimport AddScoreModal from '../Modals/AddScoreModal';\nimport useQuery from '../../components/Hooks/useQuery';\nimport Card from '../../components/shared/Card';\nimport {formatIgnoreTimeZone, getAllDatesWithScore, scoreComparator } from '../../Util/Util';\nimport ScoreTable from './ScoreTable';\nimport {ThinBorder} from '../../Util/ViewUtil';\nimport DeleteLeagueModal from '../Modals/DeleteLeagueModal';\nimport { parseISO } from 'date-fns';\n\nconst LeaguePage = () => {\n\n    const [redirect, setRedirect] = React.useState(false);\n    const [isMemberModalShowing, setIsMemberModalShowing] = React.useState(false);\n    const [isScoreModalShowing, setIsScoreModalShowing] = React.useState(false);\n    const [isDeleteModalShowing, setIsDeleteModalShowing] = React.useState(false);\n    let { id } = useParams();\n    const {data, loading, error, reQuery} = useQuery(`/leagues/${id}`);\n\n    console.log(data);\n    if (loading) {\n        return (<H2>Loading</H2>);\n    }\n    if (redirect) return <Redirect to={{pathName: '/', state: {refresh: true}}}/>;\n\n    const comparator = scoreComparator(data.scoreDirectionUp, data.scoreType);\n    const dateMap = data && getAllDatesWithScore(data, comparator);\n    const dates = Array.from(dateMap.keys()).sort((a, b) => compareAsc(new Date(b), new Date(a)));\n    return (\n        data && \n        <Container>\n            <AddMemberModal open={isMemberModalShowing} onSave={() => {reQuery()}} handleClose={() => setIsMemberModalShowing(false)} id={id}/>\n            <AddScoreModal league={data} open={isScoreModalShowing} onSave={() => {reQuery()}} handleClose={() => setIsScoreModalShowing(false)} id={id}/>\n            <DeleteLeagueModal handleClose={() => setIsDeleteModalShowing(false)} open={isDeleteModalShowing} league={data} onDelete={() => setRedirect(true)}/> \n            <HeaderContainer>\n                <H1>{data.name}</H1>\n                <StandardText>{data.leagueUsers.length} Members • Created {formatIgnoreTimeZone(parseISO(data.createdAt), 'MMM d, yyyy')} </StandardText>\n            </HeaderContainer>\n            <ThinBorder margin='8px'/>\n            <ScoreTable league={data} dateMap dates/>\n            <RowContainer>\n                <ButtonContainer>\n                    <Button fullWidth variant='contained' onClick={() => {setIsMemberModalShowing(true)}}>\n                        <StandardText>+ Add Member</StandardText>\n                    </Button>\n                </ButtonContainer>\n                <ButtonContainer>\n                    <Button fullWidth variant='contained' onClick={() => {setIsScoreModalShowing(true)}}>\n                        <StandardText>+ Add score</StandardText>\n                    </Button>\n                </ButtonContainer>\n            </RowContainer>\n            <ButtonContainer>\n                <Button color='secondary' fullWidth variant='contained' onClick={() => {setIsDeleteModalShowing(true)}}>\n                    <StandardText>Delete League</StandardText>\n                </Button>\n            </ButtonContainer>\n        </Container>\n\n    )\n}\n\nexport default LeaguePage;\n\nconst Container = styled.div`\n\n`;\n\nconst HeaderContainer = styled.div`\n    display: flex;\n    height: 50px;\n    justify-content: space-between;\n    flex-direction: column;\n    padding: 16px;\n    padding-bottom: 8px;\n`\nconst RowContainer = styled.div`\n    display: flex;\n    flex-direction: row;\n`;"]},"metadata":{},"sourceType":"module"}