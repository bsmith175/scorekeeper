{"ast":null,"code":"var _jsxFileName = \"/Users/bensmith/workspace/projects/crossword-league/react/src/views/League/ScoreTable.jsx\";\nimport * as React from 'react';\nimport styled from 'styled-components';\nimport { Link, Redirect, useParams } from 'react-router-dom';\nimport { Button } from '@material-ui/core';\nimport { H2, ScrollBox, ThinBorder } from '../../Util/ViewUtil';\nimport StandardText from '../../components/shared/StandardText';\nimport AddMemberModal from '../Modals/AddMemberModal';\nimport useQuery from '../../components/Hooks/useQuery';\nimport Card from '../../components/shared/Card';\nimport { getAllDatesWithScore, formatIgnoreTimeZone, scoreTypes, parseScore, scoreComparator } from '../../Util/Util';\nimport theme from '../../Util/Theme';\nimport { format, compareAsc } from 'date-fns';\nimport { parseISO } from 'date-fns/esm';\nconst ROW_HEIGHT = '20';\nconst COLUMN_WIDTH = '90';\nconst TABLE_WIDTH = '400';\n\nconst ScoreTable = ({\n  league\n}) => {\n  const comparator = scoreComparator(league.scoreDirectionUp, league.scoreType);\n  const dateMap = getAllDatesWithScore(league, comparator);\n  const borderWidth = `${Math.min(TABLE_WIDTH, COLUMN_WIDTH * (1 + dateMap.size))}px`;\n  const dates = Array.from(dateMap.keys()).sort((a, b) => compareAsc(new Date(b), new Date(a)));\n\n  const Header = () => /*#__PURE__*/React.createElement(RowContainer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 24,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(RowSection, {\n    key: \"1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 25,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(StandardText, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 26,\n      columnNumber: 17\n    }\n  }, \"Name\")), dates.map(date => {\n    return /*#__PURE__*/React.createElement(RowSection, {\n      key: date,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 30,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(StandardText, {\n      color: theme.gray50,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 31,\n        columnNumber: 21\n      }\n    }, formatIgnoreTimeZone(parseISO(date), 'MMM d')));\n  }));\n\n  function makeUserRows() {\n    return league.leagueUsers.map(leagueUser => /*#__PURE__*/React.createElement(React.Fragment, {\n      key: leagueUser.id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 16\n      }\n    }, /*#__PURE__*/React.createElement(RowContainer, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(RowSection, {\n      key: 'name',\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 24\n      }\n    }, /*#__PURE__*/React.createElement(StandardText, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 29\n      }\n    }, leagueUser.user.firstName)), dates.map(date => {\n      var _parseScore, _dateMap$get$get;\n\n      return /*#__PURE__*/React.createElement(RowSection, {\n        key: date,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(StandardText, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 33\n        }\n      }, (_parseScore = parseScore((_dateMap$get$get = dateMap.get(date).get(leagueUser.id)) === null || _dateMap$get$get === void 0 ? void 0 : _dateMap$get$get.value)) !== null && _parseScore !== void 0 ? _parseScore : '--'));\n    })), /*#__PURE__*/React.createElement(ThinBorder, {\n      width: borderWidth,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 21\n      }\n    })));\n  }\n\n  return dateMap && /*#__PURE__*/React.createElement(Container, {\n    height: \"400px\",\n    width: `${TABLE_WIDTH}px`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(ScrollBox, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Header, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(ThinBorder, {\n    width: borderWidth,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 21\n    }\n  }), makeUserRows()));\n};\n\nexport default ScoreTable;\nconst Container = styled(Card)`\n    padding-left: 8px;\n    position: relative\n`;\nconst RowContainer = styled.div`\n    height: ${ROW_HEIGHT}px;\n    position: relative;\n    left: 0;\n    right: 0;\n    display: flex;\n    flex: 0 0 auto;\n    padding-top: 8px;\n    padding-bottom: 8px;\n`;\nconst RowSection = styled.div`\n   min-width: ${COLUMN_WIDTH}px;\n\n`;","map":{"version":3,"sources":["/Users/bensmith/workspace/projects/crossword-league/react/src/views/League/ScoreTable.jsx"],"names":["React","styled","Link","Redirect","useParams","Button","H2","ScrollBox","ThinBorder","StandardText","AddMemberModal","useQuery","Card","getAllDatesWithScore","formatIgnoreTimeZone","scoreTypes","parseScore","scoreComparator","theme","format","compareAsc","parseISO","ROW_HEIGHT","COLUMN_WIDTH","TABLE_WIDTH","ScoreTable","league","comparator","scoreDirectionUp","scoreType","dateMap","borderWidth","Math","min","size","dates","Array","from","keys","sort","a","b","Date","Header","map","date","gray50","makeUserRows","leagueUsers","leagueUser","id","user","firstName","get","value","Container","RowContainer","div","RowSection"],"mappings":"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","sourcesContent":["import * as React from 'react';\nimport styled from 'styled-components';\nimport { Link, Redirect, useParams } from 'react-router-dom';\nimport { Button } from '@material-ui/core';\nimport { H2, ScrollBox, ThinBorder } from '../../Util/ViewUtil';\nimport StandardText from '../../components/shared/StandardText';\nimport AddMemberModal from '../Modals/AddMemberModal';\nimport useQuery from '../../components/Hooks/useQuery';\nimport Card from '../../components/shared/Card';\nimport { getAllDatesWithScore, formatIgnoreTimeZone, scoreTypes, parseScore, scoreComparator } from '../../Util/Util';\nimport theme from '../../Util/Theme';\nimport { format, compareAsc } from 'date-fns';\nimport { parseISO } from 'date-fns/esm';\n\nconst ROW_HEIGHT = '20';\nconst COLUMN_WIDTH = '90';\nconst TABLE_WIDTH = '400';\nconst ScoreTable = ({ league }) => {\n    const comparator = scoreComparator(league.scoreDirectionUp, league.scoreType);\n    const dateMap = getAllDatesWithScore(league, comparator);\n    const borderWidth = `${Math.min(TABLE_WIDTH, COLUMN_WIDTH * (1 + dateMap.size))}px`; \n    const dates = Array.from(dateMap.keys()).sort((a, b) => compareAsc(new Date(b), new Date(a)));\n    const Header = () => (\n        <RowContainer>\n            <RowSection key='1'>\n                <StandardText>Name</StandardText>\n            </RowSection>            \n            {dates.map((date) => {\n                return (\n                <RowSection key={date}>\n                    <StandardText color={theme.gray50}>{formatIgnoreTimeZone(parseISO(date), 'MMM d')}</StandardText>\n                </RowSection>)\n            })}\n        </RowContainer>\n    );\n    function makeUserRows() {\n        return (\n            league.leagueUsers.map((leagueUser) => (\n               <React.Fragment key={leagueUser.id}> \n                    <RowContainer>\n                       <RowSection key={'name'}>\n                            <StandardText>{leagueUser.user.firstName}</StandardText>  \n                       </RowSection> \n                    {dates.map((date) => {\n                        return (\n                            <RowSection key={date}>\n                                <StandardText>{parseScore(dateMap.get(date).get(leagueUser.id)?.value) ?? '--'}</StandardText>\n                            </RowSection>\n                        )\n                   })}\n                   </RowContainer>\n                    <ThinBorder width={borderWidth}/>\n               </React.Fragment>\n            ))\n        )\n    }\n    return (dateMap &&\n        <Container height='400px' width={`${TABLE_WIDTH}px`}>\n            <ScrollBox>\n                    <Header/>\n                    <ThinBorder width={borderWidth}/>\n                    {makeUserRows()}\n            </ScrollBox>\n        </Container>\n    )\n}\n\nexport default ScoreTable;\n\nconst Container = styled(Card)`\n    padding-left: 8px;\n    position: relative\n`;\n\nconst RowContainer = styled.div`\n    height: ${ROW_HEIGHT}px;\n    position: relative;\n    left: 0;\n    right: 0;\n    display: flex;\n    flex: 0 0 auto;\n    padding-top: 8px;\n    padding-bottom: 8px;\n`\nconst RowSection = styled.div`\n   min-width: ${COLUMN_WIDTH}px;\n\n`;"]},"metadata":{},"sourceType":"module"}